##############################################################
# List of the Microclimate sensors
##############################################################
PREFIX us: <https://smartcity.linkeddata.es/lcc/ontology/urban-sensors#>

SELECT ?sensor
WHERE {
  ?sensor a us:MicroclimateSensor .
}

##############################################################
# Locations of the streets for Microclimate sensor
##############################################################

PREFIX us: <https://smartcity.linkeddata.es/lcc/ontology/urban-sensors#>
PREFIX schema: <http://schema.org/>

SELECT ?sensor ?address
WHERE {
  ?sensor a us:MicroclimateSensor ;
          us:locatedAt ?loc .
  ?loc schema:streetAddress ?address .
}
LIMIT 5

##############################################################
# Locations and coordinates for both types of sensors
##############################################################
PREFIX wgs84_pos: <http://www.w3.org/2003/01/geo/wgs84_pos#>
PREFIX us: <https://smartcity.linkeddata.es/lcc/ontology/urban-sensors#>

SELECT ?location ?lat ?long
WHERE {
  ?location a us:Location ;
            wgs84_pos:lat ?lat ;
            wgs84_pos:long ?long .
}
LIMIT 5

##############################################################
# Observation of a microclimate sensor (airTemperature)
##############################################################

PREFIX us: <https://smartcity.linkeddata.es/lcc/ontology/urban-sensors#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX schema: <http://schema.org/>

SELECT ?sensor ?address ?temp ?time
WHERE {
  ?obs a us:MicroclimateObservation ;
       sosa:hasResult ?res ;
       sosa:madeBySensor ?sensor ;
       sosa:resultTime ?time .

  ?res sosa:observedProperty us:airTemperature ;
       sosa:hasSimpleResult ?temp .

  ?sensor us:locatedAt ?loc .
  ?loc schema:streetAddress ?address .
}
LIMIT 1

##############################################################
# List of Pedestrian Sensors
##############################################################

PREFIX us: <https://smartcity.linkeddata.es/lcc/ontology/urban-sensors#>

SELECT ?sensor
WHERE {
  ?sensor a us:PedestrianSensor .
}

##############################################################
# Locations of Pedestrian sensors
##############################################################

PREFIX us: <https://smartcity.linkeddata.es/lcc/ontology/urban-sensors#>
PREFIX schema: <http://schema.org/>

SELECT ?sensor ?address
WHERE {
  ?sensor a us:PedestrianSensor ;
          us:locatedAt ?loc .
  ?loc schema:streetAddress ?address .
}

LIMIT 10


----------------------------------------------------------------------------------------------------------------------------------------
PEDESTRIAN COUNTS
----------------------------------------------------------------------------------------------------------------------------------------


##############################################################
# Observaciones de peatones
##############################################################


SELECT ?observation
WHERE {
  ?observation a us:PedestrianObservation .
}
LIMIT 3

(rdflib.term.URIRef('https://smartcity.linkeddata.es/lcc/resource/Observation/872220241208'),)
(rdflib.term.URIRef('https://smartcity.linkeddata.es/lcc/resource/Observation/20320241223'),)
(rdflib.term.URIRef('https://smartcity.linkeddata.es/lcc/resource/Observation/1241520241227'),)


##############################################################
# Observaciones de peatones junto con los valores y el sensor
##############################################################

PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX us: <https://smartcity.linkeddata.es/lcc/ontology/urban-sensors#>

SELECT ?observation ?sensor ?totalCount
WHERE {
  ?observation a us:PedestrianObservation ;
               sosa:madeBySensor ?sensor ;
               us:pedestrianCount ?totalCount .
}
ORDER BY DESC(?totalCount)
LIMIT 3

(rdflib.term.URIRef('https://smartcity.linkeddata.es/lcc/resource/Observation/352020241231'), rdflib.term.Literal('SouthB_T'), rdflib.term.Literal('7076', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')))
(rdflib.term.URIRef('https://smartcity.linkeddata.es/lcc/resource/Observation/122320241231'), rdflib.term.Literal('NewQ_T'), rdflib.term.Literal('6598', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')))
(rdflib.term.URIRef('https://smartcity.linkeddata.es/lcc/resource/Observation/842320241231'), rdflib.term.Literal('ElFi_T'), rdflib.term.Literal('6528', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')))

##############################################################
# Observaciones horarias de los peatones en ambas direcciones para un d√≠a concreto y un sensor concreto
##############################################################

PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX us: <https://smartcity.linkeddata.es/lcc/ontology/urban-sensors#>

SELECT ?sensor ?count ?dir1 ?dir2 ?time
WHERE {
  ?observation a us:PedestrianObservation ;
               sosa:resultTime ?time ;
               sosa:madeBySensor ?sensor ;
               us:pedestrianCount ?dir1 ;
               us:pedestrianCountD1 ?dir2 ;
               us:pedestrianCountD2 ?count .

  FILTER (STRSTARTS(STR(?time), "2024-12-02") && ?sensor = "FliS_T")
}
ORDER BY DESC(?time)

(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('306', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('925', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('619', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T22:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('727', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('1364', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('637', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T19:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('815', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('1878', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('1063', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T18:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('1098', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('3390', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2292', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T17:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('802', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('1623', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('821', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T12:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('579', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('1212', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('633', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T11:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('807', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('1298', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('491', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T09:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('1982', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2836', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('854', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T08:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('731', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('1186', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('455', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T07:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('267', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('478', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('211', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T06:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('87', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('182', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('95', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T05:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('10', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('40', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('30', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T04:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('9', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('14', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('5', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T03:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('21', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('46', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('25', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T02:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('38', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('85', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('47', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T01:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))
(rdflib.term.Literal('FliS_T'), rdflib.term.Literal('51', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('166', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('115', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#integer')), rdflib.term.Literal('2024-12-02T00:00:00', datatype=rdflib.term.URIRef('http://www.w3.org/2001/XMLSchema#dateTime')))

