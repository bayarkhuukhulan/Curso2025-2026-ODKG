prefixes:
  lude: http://spanishuniversities.data.es/lude/ontology#
  id: http://spanishuniversities.data.es/lude/resource/
  xsd: http://www.w3.org/2001/XMLSchema#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#

mappings:

  DegreeMapping:
    sources:
      - [galicia-valencia-upm-uah-titulaciones-updated.csv~csv]
    s: id:Degree/$(DegreeID)
    po:
      - [rdf:type, lude:Degree]
      - [rdfs:label, $(Degree)]
      - [lude:academicYear, $(AcademicYear), xsd:string]
      - [lude:code, $(Code), xsd:string]
      - p: lude:hasAcademicLevel
        o: 
          - mapping: AcademicLevelMapping
            condition:
              function: equal
              parameters:
                - [str1, $(AcademicLevelID)]
                - [str2, $(AcademicLevelID)]
      - p: lude:hasKnowledgeArea
        o: 
          - mapping: KnowledgeAreaMapping
            condition:
              function: equal
              parameters:
                - [str1, $(AmbitId)]
                - [str2, $(id)]
     
  AcademicLevelMapping:
    sources:
      - [academic_level-updated.csv~csv]
    s: id:AcademicLevel/$(AcademicLevelID)
    po:
      - [rdf:type, lude:academicLevel]
      - [rdfs:label, $(AcademicLevel)]
 
  KnowledgeAreaMapping:
    sources:
      - [ambit-otros.csv~csv]
    s: id:KnowledgeArea/$(id)
    po:
      - [rdf:type, lude:KnowledgeArea]
      - [rdfs:label, $(ambit)]
      
  UniversityMapping:
    sources:
      - [universidades-updated.csv~csv]
    s: id:University/$(UniversityID)
    po:
      - [rdf:type, lude:University]
      - [rdfs:label, $(University)]
      - [lude:updateDate, $(Year of Publication), xsd:gYear]
      - [lude:teachingModality, $(Modality), xsd:string]
      - [lude:url, $(URL), xsd:anyURI]
      - [lude:email, $(Email), xsd:string]
      - [lude:telephone, $(Phone), xsd:string]
      - [lude:cif, $(CIF), xsd:string]
      - [lude:acronym, $(Acronym), xsd:string]
      - [lude:type, $(Type), xsd:string]
      - p: lude:offers
        o: 
          - mapping: DegreeMapping
            condition:
              function: equal
              parameters:
                - [str1, $(UniversityID)]
                - [str2, $(UniversityID)]
  